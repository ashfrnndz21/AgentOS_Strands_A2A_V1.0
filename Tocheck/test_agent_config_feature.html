<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agent Config Feature Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #1a1a1a;
            color: #ffffff;
        }
        .container {
            background-color: #2a2a2a;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        .agent-card {
            background-color: #3a3a3a;
            padding: 15px;
            border-radius: 6px;
            margin-bottom: 15px;
            border: 1px solid #4a4a4a;
        }
        .agent-header {
            display: flex;
            justify-content: between;
            align-items: center;
            margin-bottom: 10px;
        }
        .agent-name {
            font-size: 18px;
            font-weight: bold;
            color: #9333ea;
        }
        .button-group {
            display: flex;
            gap: 8px;
        }
        .btn {
            padding: 6px 12px;
            border: 1px solid #6b7280;
            background-color: transparent;
            color: #ffffff;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
            display: flex;
            align-items: center;
            gap: 4px;
        }
        .btn:hover {
            background-color: #4a5568;
        }
        .btn-chat {
            border-color: #3b82f6;
            color: #3b82f6;
        }
        .btn-config {
            border-color: #9333ea;
            color: #9333ea;
        }
        .btn-delete {
            border-color: #ef4444;
            color: #ef4444;
        }
        .agent-details {
            font-size: 14px;
            color: #d1d5db;
        }
        .badge {
            background-color: #4b5563;
            color: #ffffff;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 12px;
        }
        .config-preview {
            background-color: #1f2937;
            padding: 15px;
            border-radius: 6px;
            margin-top: 15px;
            border-left: 4px solid #9333ea;
        }
        .config-section {
            margin-bottom: 15px;
        }
        .config-title {
            font-weight: bold;
            color: #9333ea;
            margin-bottom: 8px;
        }
        .config-item {
            display: flex;
            justify-content: space-between;
            padding: 4px 0;
            border-bottom: 1px solid #374151;
        }
        .config-item:last-child {
            border-bottom: none;
        }
        .status-indicator {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            margin-right: 8px;
        }
        .status-active {
            background-color: #10b981;
        }
        .status-inactive {
            background-color: #ef4444;
        }
        .feature-highlight {
            background-color: #065f46;
            border: 1px solid #10b981;
            padding: 15px;
            border-radius: 6px;
            margin-bottom: 20px;
        }
        .feature-title {
            color: #10b981;
            font-weight: bold;
            margin-bottom: 8px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîß Agent Configuration Feature Test</h1>
        <p>Testing the new "Agent Config" button that shows all underlying agent settings.</p>
        
        <div class="feature-highlight">
            <div class="feature-title">‚ú® New Feature: Agent Configuration Viewer</div>
            <p>Added a Settings button next to the Delete button that opens a comprehensive dialog showing all agent configuration details including:</p>
            <ul>
                <li>Basic Information (ID, Role, Description, etc.)</li>
                <li>Model Configuration (Temperature, Max Tokens, etc.)</li>
                <li>Capabilities (Conversation, Analysis, Creativity, Reasoning)</li>
                <li>Guardrails (Safety settings, Custom rules, Blocked keywords)</li>
                <li>Advanced Settings (RAG, Behavior, Memory)</li>
            </ul>
        </div>
    </div>

    <div class="container">
        <h2>üìã Sample Agent Cards with Config Button</h2>
        
        <!-- Sample Agent 1 -->
        <div class="agent-card">
            <div class="agent-header">
                <div>
                    <div class="agent-name">ü§ñ Telco CVM Agent</div>
                    <div class="agent-details">
                        <span class="status-indicator status-active"></span>
                        <span>phi3:latest</span>
                        <span class="badge">Local</span>
                    </div>
                </div>
                <div class="button-group">
                    <button class="btn btn-chat" onclick="showMessage('Chat', 'Opening chat with Telco CVM Agent...')">
                        üí¨ Chat
                    </button>
                    <button class="btn btn-config" onclick="showAgentConfig('Telco CVM Agent')">
                        ‚öôÔ∏è Config
                    </button>
                    <button class="btn btn-delete" onclick="showMessage('Delete', 'Delete agent functionality')">
                        üóëÔ∏è Delete
                    </button>
                </div>
            </div>
            <div class="agent-details">
                <p><strong>System Prompt:</strong> You are a energetic Prepaid Marketer. Provide clear, accurate, and helpful...</p>
                <p><strong>Temperature:</strong> 0.7 | <strong>Max Tokens:</strong> 1000</p>
            </div>
        </div>

        <!-- Sample Agent 2 -->
        <div class="agent-card">
            <div class="agent-header">
                <div>
                    <div class="agent-name">ü§ñ Personal Assistant</div>
                    <div class="agent-details">
                        <span class="status-indicator status-active"></span>
                        <span>mistral:latest</span>
                        <span class="badge">Local</span>
                    </div>
                </div>
                <div class="button-group">
                    <button class="btn btn-chat" onclick="showMessage('Chat', 'Opening chat with Personal Assistant...')">
                        üí¨ Chat
                    </button>
                    <button class="btn btn-config" onclick="showAgentConfig('Personal Assistant')">
                        ‚öôÔ∏è Config
                    </button>
                    <button class="btn btn-delete" onclick="showMessage('Delete', 'Delete agent functionality')">
                        üóëÔ∏è Delete
                    </button>
                </div>
            </div>
            <div class="agent-details">
                <p><strong>System Prompt:</strong> You are a helpful personal assistant. Provide clear, organized, and actionable responses...</p>
                <p><strong>Temperature:</strong> 0.7 | <strong>Max Tokens:</strong> 1000</p>
            </div>
        </div>

        <!-- Sample Agent 3 with Guardrails -->
        <div class="agent-card">
            <div class="agent-header">
                <div>
                    <div class="agent-name">ü§ñ Test Guardrails Agent</div>
                    <div class="agent-details">
                        <span class="status-indicator status-active"></span>
                        <span>mistral:latest</span>
                        <span class="badge">Local</span>
                        <span class="badge" style="background-color: #dc2626;">Guardrails</span>
                    </div>
                </div>
                <div class="button-group">
                    <button class="btn btn-chat" onclick="showMessage('Chat', 'Opening chat with Test Guardrails Agent...')">
                        üí¨ Chat
                    </button>
                    <button class="btn btn-config" onclick="showAgentConfig('Test Guardrails Agent')">
                        ‚öôÔ∏è Config
                    </button>
                    <button class="btn btn-delete" onclick="showMessage('Delete', 'Delete agent functionality')">
                        üóëÔ∏è Delete
                    </button>
                </div>
            </div>
            <div class="agent-details">
                <p><strong>System Prompt:</strong> You are a telecommunications expert. Help users with telecom questions but never mention CelcomDigi...</p>
                <p><strong>Temperature:</strong> 0.7 | <strong>Max Tokens:</strong> 500</p>
                <p><strong>Guardrails:</strong> Enabled (High Safety) | <strong>Blocked Terms:</strong> CelcomDigi, Celcom, Digi</p>
            </div>
        </div>
    </div>

    <div class="container">
        <h2>üîç Agent Configuration Preview</h2>
        <p>When you click the "Config" button, a comprehensive dialog will show all agent settings:</p>
        
        <div class="config-preview" id="configPreview" style="display: none;">
            <div class="config-title">Agent Configuration: <span id="configAgentName"></span></div>
            
            <div class="config-section">
                <div class="config-title">üìã Basic Information</div>
                <div class="config-item">
                    <span>Agent ID:</span>
                    <span id="agentId">3eed7990-0b12-4d76-9c35-2aadbcc125f4</span>
                </div>
                <div class="config-item">
                    <span>Status:</span>
                    <span class="badge">Active</span>
                </div>
                <div class="config-item">
                    <span>Role:</span>
                    <span id="agentRole">Telecommunications Expert</span>
                </div>
                <div class="config-item">
                    <span>Created:</span>
                    <span>2025-09-10 17:48:47</span>
                </div>
            </div>

            <div class="config-section">
                <div class="config-title">üñ•Ô∏è Model Configuration</div>
                <div class="config-item">
                    <span>Model:</span>
                    <span>mistral:latest</span>
                </div>
                <div class="config-item">
                    <span>Provider:</span>
                    <span class="badge">Ollama</span>
                </div>
                <div class="config-item">
                    <span>Temperature:</span>
                    <span>0.7</span>
                </div>
                <div class="config-item">
                    <span>Max Tokens:</span>
                    <span>500</span>
                </div>
            </div>

            <div class="config-section">
                <div class="config-title">üß† Capabilities</div>
                <div class="config-item">
                    <span>Conversation:</span>
                    <span style="color: #10b981;">‚úÖ Enabled</span>
                </div>
                <div class="config-item">
                    <span>Analysis:</span>
                    <span style="color: #10b981;">‚úÖ Enabled</span>
                </div>
                <div class="config-item">
                    <span>Creativity:</span>
                    <span style="color: #10b981;">‚úÖ Enabled</span>
                </div>
                <div class="config-item">
                    <span>Reasoning:</span>
                    <span style="color: #10b981;">‚úÖ Enabled</span>
                </div>
            </div>

            <div class="config-section">
                <div class="config-title">üõ°Ô∏è Safety Guardrails</div>
                <div class="config-item">
                    <span>Enabled:</span>
                    <span style="color: #10b981;">‚úÖ Yes</span>
                </div>
                <div class="config-item">
                    <span>Safety Level:</span>
                    <span class="badge" style="background-color: #dc2626;">High</span>
                </div>
                <div class="config-item">
                    <span>Content Filters:</span>
                    <span class="badge">Harmful</span>
                </div>
                <div class="config-item">
                    <span>Custom Rules:</span>
                    <div>
                        <span class="badge" style="background-color: #dc2626; margin: 2px;">CelcomDigi</span>
                        <span class="badge" style="background-color: #dc2626; margin: 2px;">Celcom</span>
                        <span class="badge" style="background-color: #dc2626; margin: 2px;">Digi Telecommunications</span>
                    </div>
                </div>
            </div>

            <div class="config-section">
                <div class="config-title">üîß Advanced Settings</div>
                <div class="config-item">
                    <span>RAG Enabled:</span>
                    <span style="color: #ef4444;">‚ùå No</span>
                </div>
                <div class="config-item">
                    <span>Response Style:</span>
                    <span class="badge">Professional</span>
                </div>
                <div class="config-item">
                    <span>Communication Tone:</span>
                    <span class="badge">Helpful</span>
                </div>
            </div>
        </div>
    </div>

    <div class="container">
        <h2>‚úÖ Implementation Status</h2>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
            <div>
                <h3>Frontend Changes:</h3>
                <ul>
                    <li>‚úÖ Added Settings icon import</li>
                    <li>‚úÖ Created AgentConfigDialog component</li>
                    <li>‚úÖ Added config button to agent cards</li>
                    <li>‚úÖ Added state management for dialog</li>
                    <li>‚úÖ Added click handler for config button</li>
                </ul>
            </div>
            <div>
                <h3>Dialog Features:</h3>
                <ul>
                    <li>‚úÖ Tabbed interface (Basic, Model, Capabilities, Guardrails, Advanced)</li>
                    <li>‚úÖ Complete agent information display</li>
                    <li>‚úÖ Guardrails visualization with badges</li>
                    <li>‚úÖ Enhanced guardrails support</li>
                    <li>‚úÖ Responsive design with scrolling</li>
                </ul>
            </div>
        </div>
    </div>

    <div class="container">
        <h2>üß™ How to Test</h2>
        <ol>
            <li><strong>Navigate to Ollama Agent Management:</strong> Go to your Ollama Agents dashboard</li>
            <li><strong>Find the Config Button:</strong> Look for the ‚öôÔ∏è Settings button next to the Delete button on any agent card</li>
            <li><strong>Click Config Button:</strong> Click the Settings button to open the configuration dialog</li>
            <li><strong>Explore Tabs:</strong> Navigate through the different tabs to see all agent settings:
                <ul>
                    <li><strong>Basic:</strong> Agent ID, name, role, description, system prompt</li>
                    <li><strong>Model:</strong> Model name, provider, temperature, max tokens, tools</li>
                    <li><strong>Capabilities:</strong> Conversation, analysis, creativity, reasoning settings</li>
                    <li><strong>Guardrails:</strong> Safety settings, content filters, custom rules, blocked keywords</li>
                    <li><strong>Advanced:</strong> RAG configuration, behavior settings, memory configuration</li>
                </ul>
            </li>
            <li><strong>Verify Guardrails:</strong> Check if your CelcomDigi guardrails are properly displayed</li>
        </ol>
    </div>

    <script>
        function showMessage(action, message) {
            alert(`${action}: ${message}`);
        }

        function showAgentConfig(agentName) {
            document.getElementById('configAgentName').textContent = agentName;
            document.getElementById('configPreview').style.display = 'block';
            
            // Update some fields based on agent
            if (agentName === 'Test Guardrails Agent') {
                document.getElementById('agentRole').textContent = 'Telecommunications Expert';
            } else if (agentName === 'Personal Assistant') {
                document.getElementById('agentRole').textContent = 'AI Personal Assistant';
            } else {
                document.getElementById('agentRole').textContent = 'Telco Prepaid Expert';
            }
            
            // Scroll to config preview
            document.getElementById('configPreview').scrollIntoView({ behavior: 'smooth' });
        }
    </script>
</body>
</html>